<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>N-dimensional datasets (astropy.nddata) &#8212; Astropy v3.0.dev19489</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0.dev19489',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CCDData class" href="ccddata.html" />
    <link rel="prev" title="enable" href="../api/astropy.units.deprecated.enable.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body role="document">
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="ccddata.html" title="CCDData class">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="../api/astropy.units.deprecated.enable.html" title="enable">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v3.0.dev19489</a>
	 &#187;
      </li>
      
      <li>N-dimensional datasets (<code class="docutils literal"><span class="pre">astropy.nddata</span></code>)</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="n-dimensional-datasets-astropy-nddata">
<span id="astropy-nddata"></span><h1>N-dimensional datasets (<a class="reference internal" href="#module-astropy.nddata" title="astropy.nddata"><code class="xref py py-obj docutils literal"><span class="pre">astropy.nddata</span></code></a>)<a class="headerlink" href="#n-dimensional-datasets-astropy-nddata" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#module-astropy.nddata" title="astropy.nddata"><code class="xref py py-obj docutils literal"><span class="pre">nddata</span></code></a> package provides classes to represent images and other
gridded data, some essential functions for manipulating images, and the
infrastructure for package developers who wish to include support for the
image classes.</p>
</div>
<div class="section" id="getting-started">
<h2>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="make-a-test-image">
<h3>Make a test image<a class="headerlink" href="#make-a-test-image" title="Permalink to this headline">¶</a></h3>
<p>Though the <a class="reference internal" href="#module-astropy.nddata" title="astropy.nddata"><code class="xref py py-obj docutils literal"><span class="pre">nddata</span></code></a> package supports any kind of gridded data, this
introduction will focus on the use of <a class="reference internal" href="#module-astropy.nddata" title="astropy.nddata"><code class="xref py py-obj docutils literal"><span class="pre">nddata</span></code></a> for two-dimensional
images. To get started, we&#8217;ll construct a two-dimensional image with a few
sources, some Gaussian noise, and a &#8220;cosmic ray&#8221; which we will later mask out:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.modeling.models</span> <span class="k">import</span> <span class="n">Gaussian2D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mgrid</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">600</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">Gaussian2D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">theta</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">+</span>
<span class="gp">... </span>        <span class="n">Gaussian2D</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="n">theta</span><span class="o">=</span><span class="mf">1.2</span><span class="p">)(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span>
<span class="gp">... </span>        <span class="n">Gaussian2D</span><span class="p">(</span><span class="mf">0.75</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">theta</span><span class="o">=</span><span class="mf">0.23</span><span class="p">)(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span>
<span class="gp">... </span>        <span class="n">Gaussian2D</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mi">525</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span>
<span class="gp">... </span>        <span class="n">Gaussian2D</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">225</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">+=</span> <span class="mf">0.01</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cosmic_ray_value</span> <span class="o">=</span> <span class="mf">0.997</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">300</span><span class="p">:</span><span class="mi">310</span><span class="p">]</span> <span class="o">=</span> <span class="n">cosmic_ray_value</span>
</pre></div>
</div>
<p>This image has a large &#8220;galaxy&#8221; in the lower left and the &#8220;cosmic ray&#8221; is the
horizontal line in the lower middle of the image:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../nddata/index-1.png">png</a>, <a class="reference external" href="../nddata/index-1.svg">svg</a>, <a class="reference external" href="../nddata/index-1.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/index-12.png" src="../_images/index-12.png" />
</div>
<p>The &#8220;cosmic ray&#8221; can be masked out, in this simple test image, like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span> <span class="o">==</span> <span class="n">cosmic_ray_value</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="ccddata-class-for-images">
<h3><a class="reference internal" href="../api/astropy.nddata.CCDData.html#astropy.nddata.CCDData" title="astropy.nddata.CCDData"><code class="xref py py-obj docutils literal"><span class="pre">CCDData</span></code></a> class for images<a class="headerlink" href="#ccddata-class-for-images" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../api/astropy.nddata.CCDData.html#astropy.nddata.CCDData" title="astropy.nddata.CCDData"><code class="xref py py-obj docutils literal"><span class="pre">CCDData</span></code></a> object, like the other objects in this package,
can store the data, a mask, and metadata. The <a class="reference internal" href="../api/astropy.nddata.CCDData.html#astropy.nddata.CCDData" title="astropy.nddata.CCDData"><code class="xref py py-obj docutils literal"><span class="pre">CCDData</span></code></a> object
requires that a unit be specified:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.nddata</span> <span class="k">import</span> <span class="n">CCDData</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ccd</span> <span class="o">=</span> <span class="n">CCDData</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="s1">&#39;fake galaxy&#39;</span><span class="p">,</span> <span class="s1">&#39;filter&#39;</span><span class="p">:</span> <span class="s1">&#39;R&#39;</span><span class="p">},</span>
<span class="gp">... </span>              <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;adu&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="slicing">
<h3>Slicing<a class="headerlink" href="#slicing" title="Permalink to this headline">¶</a></h3>
<p>Slicing the works the way you would expect, with the mask and, if present,
WCS, sliced appropriately also:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ccd2</span> <span class="o">=</span> <span class="n">ccd</span><span class="p">[:</span><span class="mi">200</span><span class="p">,</span> <span class="p">:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ccd2</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(200, 600)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ccd2</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(200, 600)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show the mask in a region around the cosmic ray:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ccd2</span><span class="o">.</span><span class="n">mask</span><span class="p">[</span><span class="mi">99</span><span class="p">:</span><span class="mi">102</span><span class="p">,</span> <span class="mi">299</span><span class="p">:</span><span class="mi">311</span><span class="p">]</span>
<span class="go">array([[False, False, False, False, False, False, False, False, False,</span>
<span class="go">        False, False, False],</span>
<span class="go">       [False,  True,  True,  True,  True,  True,  True,  True,  True,</span>
<span class="go">         True,  True, False],</span>
<span class="go">       [False, False, False, False, False, False, False, False, False,</span>
<span class="go">        False, False, False]], dtype=bool)</span>
</pre></div>
</div>
<p>For many applications it may be more convenient to use
<a class="reference internal" href="../api/astropy.nddata.Cutout2D.html#astropy.nddata.Cutout2D" title="astropy.nddata.Cutout2D"><code class="xref py py-obj docutils literal"><span class="pre">Cutout2D</span></code></a>, described in <a class="reference internal" href="#image-utilities">image_utilities</a>.</p>
</div>
<div class="section" id="image-arithmetic-including-uncertainty">
<h3>Image arithmetic, including uncertainty<a class="headerlink" href="#image-arithmetic-including-uncertainty" title="Permalink to this headline">¶</a></h3>
<p>Methods are provided for basic arithmetic operations between images, including
propagation of uncertainties. Support for uncertainties is currently limited
to standard deviation. The example below creates an uncertainty that is simply
Poisson error; note that the masked version of the square root is used:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ccd</span><span class="o">.</span><span class="n">uncertainty</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">ccd</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
<span class="go">INFO: array provided for uncertainty; assuming it is a StdDevUncertainty. [astropy.nddata.ccddata]</span>
</pre></div>
</div>
<p>If we make a copy of the image and add that to the original, the uncertainty
changes as expected:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ccd2</span> <span class="o">=</span> <span class="n">ccd</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">added_ccds</span> <span class="o">=</span> <span class="n">ccd</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ccd2</span><span class="p">,</span> <span class="n">handle_meta</span><span class="o">=</span><span class="s1">&#39;first_found&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">added_ccds</span><span class="o">.</span><span class="n">uncertainty</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">ccd</span><span class="o">.</span><span class="n">uncertainty</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> 
<span class="go">0.99999999999999989</span>
</pre></div>
</div>
</div>
<div class="section" id="reading-and-writing">
<h3>Reading and writing<a class="headerlink" href="#reading-and-writing" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference internal" href="../api/astropy.nddata.CCDData.html#astropy.nddata.CCDData" title="astropy.nddata.CCDData"><code class="xref py py-obj docutils literal"><span class="pre">CCDData</span></code></a> can be saved to a FITS file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ccd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;test_file.fits&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>and can also be read in from a FITS file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ccd2</span> <span class="o">=</span> <span class="n">CCDData</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;test_file.fits&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note the unit is stored in the <code class="docutils literal"><span class="pre">BUNIT</span></code> keyword in the header on saving, and is
read from the header if it is present.</p>
</div>
<div class="section" id="image-utilities">
<span id="id1"></span><h3>Image utilities<a class="headerlink" href="#image-utilities" title="Permalink to this headline">¶</a></h3>
<div class="section" id="cutouts">
<h4>Cutouts<a class="headerlink" href="#cutouts" title="Permalink to this headline">¶</a></h4>
<p>Though slicing directly is one way to extract a subframe,
<a class="reference internal" href="../api/astropy.nddata.Cutout2D.html#astropy.nddata.Cutout2D" title="astropy.nddata.Cutout2D"><code class="xref py py-obj docutils literal"><span class="pre">Cutout2D</span></code></a> provides more convenient access to cutouts from the
data. The example below pulls out the large &#8220;galaxy&#8221; in the lower left of the
image, with the center of the cutout at <code class="docutils literal"><span class="pre">position</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.nddata</span> <span class="k">import</span> <span class="n">Cutout2D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="mf">149.7</span><span class="p">,</span> <span class="mf">100.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>     <span class="c1"># pixels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cutout</span> <span class="o">=</span> <span class="n">Cutout2D</span><span class="p">(</span><span class="n">ccd</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">cutout</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span> 
</pre></div>
</div>
<p>(<a class="reference external" href="../nddata/index-2.png">png</a>, <a class="reference external" href="../nddata/index-2.svg">svg</a>, <a class="reference external" href="../nddata/index-2.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/index-22.png" src="../_images/index-22.png" />
</div>
<p>This cutout can also plot itself on the original image:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">ccd</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">cutout</span><span class="o">.</span><span class="n">plot_on_original</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span> 
</pre></div>
</div>
<p>(<a class="reference external" href="../nddata/index-3.png">png</a>, <a class="reference external" href="../nddata/index-3.svg">svg</a>, <a class="reference external" href="../nddata/index-3.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/index-32.png" src="../_images/index-32.png" />
</div>
<p>The cutout also provides methods for find pixel coordinates in the original or
in the cutout; recall that <code class="docutils literal"><span class="pre">position</span></code> is the center of the cutout in the
original image:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">position</span>
<span class="go">(149.7, 100.1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cutout</span><span class="o">.</span><span class="n">to_cutout_position</span><span class="p">(</span><span class="n">position</span><span class="p">)</span>  
<span class="go">(49.7, 40.099999999999994)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cutout</span><span class="o">.</span><span class="n">to_original_position</span><span class="p">((</span><span class="mf">49.7</span><span class="p">,</span> <span class="mf">40.099999999999994</span><span class="p">))</span>  
<span class="go"> (149.7, 100.1)</span>
</pre></div>
</div>
<p>For more details, including constructing a cutout from world coordinates and
the options for handling cutouts that go beyond the bounds of the original
image, see <a class="reference internal" href="utils.html#cutout-images"><span class="std std-ref">2D Cutout Images</span></a>.</p>
</div>
<div class="section" id="image-resizing">
<h4>Image resizing<a class="headerlink" href="#image-resizing" title="Permalink to this headline">¶</a></h4>
<p>The functions <a class="reference internal" href="../api/astropy.nddata.block_reduce.html#astropy.nddata.block_reduce" title="astropy.nddata.block_reduce"><code class="xref py py-obj docutils literal"><span class="pre">block_reduce</span></code></a> and
<a class="reference internal" href="../api/astropy.nddata.block_replicate.html#astropy.nddata.block_replicate" title="astropy.nddata.block_replicate"><code class="xref py py-obj docutils literal"><span class="pre">block_replicate</span></code></a> resize images. The example below reduces the
size of the image by a factor of 4. Note that the result is a <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a>;
the mask, metadata, etc are discarded:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.nddata</span> <span class="k">import</span> <span class="n">block_reduce</span><span class="p">,</span> <span class="n">block_replicate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">smaller</span> <span class="o">=</span> <span class="n">block_reduce</span><span class="p">(</span><span class="n">ccd</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">smaller</span>
<span class="go">array(...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">smaller</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>  
</pre></div>
</div>
<p>(<a class="reference external" href="../nddata/index-4.png">png</a>, <a class="reference external" href="../nddata/index-4.svg">svg</a>, <a class="reference external" href="../nddata/index-4.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/index-42.png" src="../_images/index-42.png" />
</div>
<p>By default, both <a class="reference internal" href="../api/astropy.nddata.block_reduce.html#astropy.nddata.block_reduce" title="astropy.nddata.block_reduce"><code class="xref py py-obj docutils literal"><span class="pre">block_reduce</span></code></a> and
<a class="reference internal" href="../api/astropy.nddata.block_replicate.html#astropy.nddata.block_replicate" title="astropy.nddata.block_replicate"><code class="xref py py-obj docutils literal"><span class="pre">block_replicate</span></code></a> conserve flux.</p>
</div>
</div>
<div class="section" id="other-image-classes">
<h3>Other image classes<a class="headerlink" href="#other-image-classes" title="Permalink to this headline">¶</a></h3>
<p>There are two less restrictive classes, <a class="reference internal" href="../api/astropy.nddata.NDDataArray.html#astropy.nddata.NDDataArray" title="astropy.nddata.NDDataArray"><code class="xref py py-obj docutils literal"><span class="pre">NDDataArray</span></code></a> and
<a class="reference internal" href="../api/astropy.nddata.NDDataRef.html#astropy.nddata.NDDataRef" title="astropy.nddata.NDDataRef"><code class="xref py py-obj docutils literal"><span class="pre">NDDataRef</span></code></a>, that can be used to hold image data. They are
primarily of interest to those who may want to create their own image class by
subclassing from one of the classes in the <a class="reference internal" href="#module-astropy.nddata" title="astropy.nddata"><code class="xref py py-obj docutils literal"><span class="pre">nddata</span></code></a> package. The main
differences between them are:</p>
<ul class="simple">
<li><a class="reference internal" href="../api/astropy.nddata.NDDataRef.html#astropy.nddata.NDDataRef" title="astropy.nddata.NDDataRef"><code class="xref py py-obj docutils literal"><span class="pre">NDDataRef</span></code></a> can be sliced and has methods for basic
arithmetic operations, but the user needs to use one of the uncertainty
classes to define an uncertainty. See <a class="reference internal" href="subclassing.html#nddataref"><span class="std std-ref">NDDataRef</span></a> for more detail.
Most of its properties must be set when the object is created because they
are not mutable.</li>
<li><a class="reference internal" href="../api/astropy.nddata.NDDataArray.html#astropy.nddata.NDDataArray" title="astropy.nddata.NDDataArray"><code class="xref py py-obj docutils literal"><span class="pre">NDDataArray</span></code></a> extends <a class="reference internal" href="../api/astropy.nddata.NDDataRef.html#astropy.nddata.NDDataRef" title="astropy.nddata.NDDataRef"><code class="xref py py-obj docutils literal"><span class="pre">NDDataRef</span></code></a> by adding
the methods necessary to all it to behave like a numpy array in expressions
and adds setters for several properties. It lacks the ability to
automatically recognize and read data from FITS files and does not attempt
to automatically set the WCS property.</li>
<li><a class="reference internal" href="../api/astropy.nddata.CCDData.html#astropy.nddata.CCDData" title="astropy.nddata.CCDData"><code class="xref py py-obj docutils literal"><span class="pre">CCDData</span></code></a> extends <a class="reference internal" href="../api/astropy.nddata.NDDataArray.html#astropy.nddata.NDDataArray" title="astropy.nddata.NDDataArray"><code class="xref py py-obj docutils literal"><span class="pre">NDDataArray</span></code></a> by setting
up a default uncertainty class, sets up straightforward read/write to FITS
files, automatically sets up a WCS property.</li>
</ul>
</div>
<div class="section" id="more-general-gridded-data-class">
<h3>More general gridded data class<a class="headerlink" href="#more-general-gridded-data-class" title="Permalink to this headline">¶</a></h3>
<p>There are two additional classes in the <code class="docutils literal"><span class="pre">nddata</span></code> package that are of
interest primarily to people that either need a custom image class that goes
beyond the classes discussed so far or who are working with gridded data that
is not an image.</p>
<ul class="simple">
<li><a class="reference internal" href="../api/astropy.nddata.NDData.html#astropy.nddata.NDData" title="astropy.nddata.NDData"><code class="xref py py-obj docutils literal"><span class="pre">NDData</span></code></a> is a container class for holding general gridded
data. It includes a handful of basic attributes, but no slicing or arithmetic.
More information about this class is in <a class="reference internal" href="nddata.html#nddata-details"><span class="std std-ref">NDData</span></a>.</li>
<li><a class="reference internal" href="../api/astropy.nddata.NDDataBase.html#astropy.nddata.NDDataBase" title="astropy.nddata.NDDataBase"><code class="xref py py-obj docutils literal"><span class="pre">NDDataBase</span></code></a> is an abstract base class that developers of new
gridded data classes can subclass to declare that the new class follows the
<a class="reference internal" href="../api/astropy.nddata.NDData.html#astropy.nddata.NDData" title="astropy.nddata.NDData"><code class="xref py py-obj docutils literal"><span class="pre">NDData</span></code></a> interface. More details are in
<a class="reference internal" href="subclassing.html#nddata-subclassing"><span class="std std-ref">Subclassing</span></a>.</li>
</ul>
</div>
</div>
<div class="section" id="additional-examples">
<h2>Additional examples<a class="headerlink" href="#additional-examples" title="Permalink to this headline">¶</a></h2>
<p>The list of packages below that use the <code class="docutils literal"><span class="pre">nddata</span></code> framework is intended to be
useful to either people writing their own image classes or for those looking
for an image class that goes beyond what <a class="reference internal" href="../api/astropy.nddata.CCDData.html#astropy.nddata.CCDData" title="astropy.nddata.CCDData"><code class="xref py py-obj docutils literal"><span class="pre">CCDData</span></code></a> does.</p>
<ul class="simple">
<li>The <a class="reference external" href="http://sunpy.org/">SunPy project</a> uses <a class="reference internal" href="../api/astropy.nddata.NDData.html#astropy.nddata.NDData" title="astropy.nddata.NDData"><code class="xref py py-obj docutils literal"><span class="pre">NDData</span></code></a> as the
foundation for its
<a class="reference external" href="http://docs.sunpy.org/en/stable/code_ref/map.html">Map classes</a>.</li>
<li>The class <a class="reference internal" href="../api/astropy.nddata.NDDataRef.html#astropy.nddata.NDDataRef" title="astropy.nddata.NDDataRef"><code class="xref py py-obj docutils literal"><span class="pre">NDDataRef</span></code></a> is used in
<a class="reference external" href="http://specutils.readthedocs.io/en/latest/">specutils</a> as the basis for
<a class="reference external" href="http://specutils.readthedocs.io/en/latest/api/specutils.Spectrum1D.html">Spectrum1D</a>, which adds several methods useful for
spectra.</li>
<li>The package <a class="reference external" href="http://ndmapper.readthedocs.io/en/latest/">ndmapper</a>, which
makes it easy to build reduction pipelines for optical data, uses
<a class="reference internal" href="../api/astropy.nddata.NDDataArray.html#astropy.nddata.NDDataArray" title="astropy.nddata.NDDataArray"><code class="xref py py-obj docutils literal"><span class="pre">NDDataArray</span></code></a> as its image object.</li>
<li>The package <a class="reference external" href="http://ccdproc.readthedocs.io/en/latest/">ccdproc</a> uses the
<a class="reference internal" href="../api/astropy.nddata.CCDData.html#astropy.nddata.CCDData" title="astropy.nddata.CCDData"><code class="xref py py-obj docutils literal"><span class="pre">CCDData</span></code></a> class throughout for implementing optical/IR image
reduction.</li>
</ul>
</div>
<div class="section" id="using-nddata">
<h2>Using <code class="docutils literal"><span class="pre">nddata</span></code><a class="headerlink" href="#using-nddata" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="ccddata.html">CCDData class</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ccddata.html#getting-started">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="ccddata.html#uncertainty">Uncertainty</a></li>
<li class="toctree-l2"><a class="reference internal" href="ccddata.html#arithmetic-with-images">Arithmetic with images</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Image utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utils.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html#d-cutout-images">2D Cutout Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html#reference-api">Reference/API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="decorator.html">Decorating functions to accept NDData objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="nddata.html">NDData</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nddata.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="nddata.html#data">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="nddata.html#mask">Mask</a></li>
<li class="toctree-l2"><a class="reference internal" href="nddata.html#unit">Unit</a></li>
<li class="toctree-l2"><a class="reference internal" href="nddata.html#uncertainties">Uncertainties</a></li>
<li class="toctree-l2"><a class="reference internal" href="nddata.html#meta-data">Meta-data</a></li>
<li class="toctree-l2"><a class="reference internal" href="nddata.html#initialization-with-copy">Initialization with copy</a></li>
<li class="toctree-l2"><a class="reference internal" href="nddata.html#converting-nddata-to-other-classes">Converting NDData to other classes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mixins/index.html">Mixins for added functionality</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mixins/ndslicing.html">Slicing and Indexing NDData</a></li>
<li class="toctree-l2"><a class="reference internal" href="mixins/ndarithmetic.html">NDData Arithmetic</a></li>
<li class="toctree-l2"><a class="reference internal" href="mixins/ndio.html">I/O mixin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="subclassing.html">Subclassing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="subclassing.html#nddata"><code class="docutils literal"><span class="pre">NDData</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="subclassing.html#nddataref"><code class="docutils literal"><span class="pre">NDDataRef</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="subclassing.html#nddatabase"><code class="docutils literal"><span class="pre">NDDataBase</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="subclassing.html#subclassing-nduncertainty">Subclassing <code class="docutils literal"><span class="pre">NDUncertainty</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="subclassing.html#subclassing-stddevuncertainty">Subclassing <code class="docutils literal"><span class="pre">StdDevUncertainty</span></code></a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="reference-api">
<h2>Reference/API<a class="headerlink" href="#reference-api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-astropy.nddata">
<span id="astropy-nddata-package"></span><h3>astropy.nddata Package<a class="headerlink" href="#module-astropy.nddata" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-astropy.nddata" title="astropy.nddata"><code class="xref py py-obj docutils literal"><span class="pre">astropy.nddata</span></code></a> subpackage provides the <a class="reference internal" href="../api/astropy.nddata.NDData.html#astropy.nddata.NDData" title="astropy.nddata.NDData"><code class="xref py py-obj docutils literal"><span class="pre">NDData</span></code></a>
class and related tools to manage n-dimensional array-based data (e.g.
CCD images, IFU Data, grid-based simulation data, ...). This is more than
just <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a> objects, because it provides metadata that cannot
be easily provided by a single array.</p>
<div class="section" id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.add_array.html#astropy.nddata.add_array" title="astropy.nddata.add_array"><code class="xref py py-obj docutils literal"><span class="pre">add_array</span></code></a>(array_large,&nbsp;array_small,&nbsp;position)</td>
<td>Add a smaller array at a given position in a larger array.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.block_reduce.html#astropy.nddata.block_reduce" title="astropy.nddata.block_reduce"><code class="xref py py-obj docutils literal"><span class="pre">block_reduce</span></code></a>(data,&nbsp;block_size[,&nbsp;func])</td>
<td>Downsample a data array by applying a function to local blocks.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.block_replicate.html#astropy.nddata.block_replicate" title="astropy.nddata.block_replicate"><code class="xref py py-obj docutils literal"><span class="pre">block_replicate</span></code></a>(data,&nbsp;block_size[,&nbsp;conserve_sum])</td>
<td>Upsample a data array by block replication.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.extract_array.html#astropy.nddata.extract_array" title="astropy.nddata.extract_array"><code class="xref py py-obj docutils literal"><span class="pre">extract_array</span></code></a>(array_large,&nbsp;shape,&nbsp;position)</td>
<td>Extract a smaller array of the given shape and position from a larger array.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.fits_ccddata_reader.html#astropy.nddata.fits_ccddata_reader" title="astropy.nddata.fits_ccddata_reader"><code class="xref py py-obj docutils literal"><span class="pre">fits_ccddata_reader</span></code></a>(filename[,&nbsp;hdu,&nbsp;unit,&nbsp;...])</td>
<td>Generate a CCDData object from a FITS file.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.fits_ccddata_writer.html#astropy.nddata.fits_ccddata_writer" title="astropy.nddata.fits_ccddata_writer"><code class="xref py py-obj docutils literal"><span class="pre">fits_ccddata_writer</span></code></a>(ccd_data,&nbsp;filename[,&nbsp;...])</td>
<td>Write CCDData object to FITS file.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.overlap_slices.html#astropy.nddata.overlap_slices" title="astropy.nddata.overlap_slices"><code class="xref py py-obj docutils literal"><span class="pre">overlap_slices</span></code></a>(large_array_shape,&nbsp;...[,&nbsp;mode])</td>
<td>Get slices for the overlapping part of a small and a large array.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.subpixel_indices.html#astropy.nddata.subpixel_indices" title="astropy.nddata.subpixel_indices"><code class="xref py py-obj docutils literal"><span class="pre">subpixel_indices</span></code></a>(position,&nbsp;subsampling)</td>
<td>Convert decimal points to indices, given a subsampling factor.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.support_nddata.html#astropy.nddata.support_nddata" title="astropy.nddata.support_nddata"><code class="xref py py-obj docutils literal"><span class="pre">support_nddata</span></code></a>([_func,&nbsp;accepts,&nbsp;repack,&nbsp;...])</td>
<td>Decorator to wrap functions that could accept an NDData instance with its properties passed as function arguments.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="classes">
<h4>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.CCDData.html#astropy.nddata.CCDData" title="astropy.nddata.CCDData"><code class="xref py py-obj docutils literal"><span class="pre">CCDData</span></code></a>(*args,&nbsp;**kwd)</td>
<td>A class describing basic CCD data.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.Conf.html#astropy.nddata.Conf" title="astropy.nddata.Conf"><code class="xref py py-obj docutils literal"><span class="pre">Conf</span></code></a></td>
<td>Configuration parameters for <a class="reference internal" href="#module-astropy.nddata" title="astropy.nddata"><code class="xref py py-obj docutils literal"><span class="pre">astropy.nddata</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.Cutout2D.html#astropy.nddata.Cutout2D" title="astropy.nddata.Cutout2D"><code class="xref py py-obj docutils literal"><span class="pre">Cutout2D</span></code></a>(data,&nbsp;position,&nbsp;size[,&nbsp;wcs,&nbsp;mode,&nbsp;...])</td>
<td>Create a cutout object from a 2D array.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.FlagCollection.html#astropy.nddata.FlagCollection" title="astropy.nddata.FlagCollection"><code class="xref py py-obj docutils literal"><span class="pre">FlagCollection</span></code></a>(*args,&nbsp;**kwargs)</td>
<td>The purpose of this class is to provide a dictionary for containing arrays of flags for the <a class="reference internal" href="../api/astropy.nddata.NDData.html#astropy.nddata.NDData" title="astropy.nddata.NDData"><code class="xref py py-obj docutils literal"><span class="pre">NDData</span></code></a> class.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.IncompatibleUncertaintiesException.html#astropy.nddata.IncompatibleUncertaintiesException" title="astropy.nddata.IncompatibleUncertaintiesException"><code class="xref py py-obj docutils literal"><span class="pre">IncompatibleUncertaintiesException</span></code></a></td>
<td>This exception should be used to indicate cases in which uncertainties with two different classes can not be propagated.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.MissingDataAssociationException.html#astropy.nddata.MissingDataAssociationException" title="astropy.nddata.MissingDataAssociationException"><code class="xref py py-obj docutils literal"><span class="pre">MissingDataAssociationException</span></code></a></td>
<td>This exception should be used to indicate that an uncertainty instance has not been associated with a parent <a class="reference internal" href="../api/astropy.nddata.NDData.html#astropy.nddata.NDData" title="astropy.nddata.NDData"><code class="xref py py-obj docutils literal"><span class="pre">NDData</span></code></a> object.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.NDArithmeticMixin.html#astropy.nddata.NDArithmeticMixin" title="astropy.nddata.NDArithmeticMixin"><code class="xref py py-obj docutils literal"><span class="pre">NDArithmeticMixin</span></code></a></td>
<td>Mixin class to add arithmetic to an NDData object.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.NDData.html#astropy.nddata.NDData" title="astropy.nddata.NDData"><code class="xref py py-obj docutils literal"><span class="pre">NDData</span></code></a>(data[,&nbsp;uncertainty,&nbsp;mask,&nbsp;wcs,&nbsp;meta,&nbsp;...])</td>
<td>A container for <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a>-based datasets, using the <a class="reference internal" href="../api/astropy.nddata.NDDataBase.html#astropy.nddata.NDDataBase" title="astropy.nddata.NDDataBase"><code class="xref py py-obj docutils literal"><span class="pre">NDDataBase</span></code></a> interface.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.NDDataArray.html#astropy.nddata.NDDataArray" title="astropy.nddata.NDDataArray"><code class="xref py py-obj docutils literal"><span class="pre">NDDataArray</span></code></a>(data,&nbsp;*args,&nbsp;**kwd)</td>
<td>An <code class="docutils literal"><span class="pre">NDData</span></code> object with arithmetic.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.NDDataBase.html#astropy.nddata.NDDataBase" title="astropy.nddata.NDDataBase"><code class="xref py py-obj docutils literal"><span class="pre">NDDataBase</span></code></a>()</td>
<td>Base metaclass that defines the interface for N-dimensional datasets with associated meta information used in <code class="docutils literal"><span class="pre">astropy</span></code>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.NDDataRef.html#astropy.nddata.NDDataRef" title="astropy.nddata.NDDataRef"><code class="xref py py-obj docutils literal"><span class="pre">NDDataRef</span></code></a>(data[,&nbsp;uncertainty,&nbsp;mask,&nbsp;wcs,&nbsp;...])</td>
<td>Implements <a class="reference internal" href="../api/astropy.nddata.NDData.html#astropy.nddata.NDData" title="astropy.nddata.NDData"><code class="xref py py-obj docutils literal"><span class="pre">NDData</span></code></a> with all Mixins.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.NDIOMixin.html#astropy.nddata.NDIOMixin" title="astropy.nddata.NDIOMixin"><code class="xref py py-obj docutils literal"><span class="pre">NDIOMixin</span></code></a></td>
<td>Mixin class to connect NDData to the astropy input/output registry.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.NDSlicingMixin.html#astropy.nddata.NDSlicingMixin" title="astropy.nddata.NDSlicingMixin"><code class="xref py py-obj docutils literal"><span class="pre">NDSlicingMixin</span></code></a></td>
<td>Mixin to provide slicing on objects using the <a class="reference internal" href="../api/astropy.nddata.NDData.html#astropy.nddata.NDData" title="astropy.nddata.NDData"><code class="xref py py-obj docutils literal"><span class="pre">NDData</span></code></a> interface.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.NDUncertainty.html#astropy.nddata.NDUncertainty" title="astropy.nddata.NDUncertainty"><code class="xref py py-obj docutils literal"><span class="pre">NDUncertainty</span></code></a>([array,&nbsp;copy,&nbsp;unit])</td>
<td>This is the metaclass for uncertainty classes used with <a class="reference internal" href="../api/astropy.nddata.NDData.html#astropy.nddata.NDData" title="astropy.nddata.NDData"><code class="xref py py-obj docutils literal"><span class="pre">NDData</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.NoOverlapError.html#astropy.nddata.NoOverlapError" title="astropy.nddata.NoOverlapError"><code class="xref py py-obj docutils literal"><span class="pre">NoOverlapError</span></code></a></td>
<td>Raised when determining the overlap of non-overlapping arrays.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.PartialOverlapError.html#astropy.nddata.PartialOverlapError" title="astropy.nddata.PartialOverlapError"><code class="xref py py-obj docutils literal"><span class="pre">PartialOverlapError</span></code></a></td>
<td>Raised when arrays only partially overlap.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.StdDevUncertainty.html#astropy.nddata.StdDevUncertainty" title="astropy.nddata.StdDevUncertainty"><code class="xref py py-obj docutils literal"><span class="pre">StdDevUncertainty</span></code></a>([array,&nbsp;copy,&nbsp;unit])</td>
<td>Standard deviation uncertainty assuming first order gaussian error propagation.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.UnknownUncertainty.html#astropy.nddata.UnknownUncertainty" title="astropy.nddata.UnknownUncertainty"><code class="xref py py-obj docutils literal"><span class="pre">UnknownUncertainty</span></code></a>([array,&nbsp;copy,&nbsp;unit])</td>
<td>This class implements any unknown uncertainty type.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-astropy.nddata.utils">
<span id="astropy-nddata-utils-module"></span><h3>astropy.nddata.utils Module<a class="headerlink" href="#module-astropy.nddata.utils" title="Permalink to this headline">¶</a></h3>
<p>This module includes helper functions for array operations.</p>
<div class="section" id="id2">
<h4>Functions<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.utils.extract_array.html#astropy.nddata.utils.extract_array" title="astropy.nddata.utils.extract_array"><code class="xref py py-obj docutils literal"><span class="pre">extract_array</span></code></a>(array_large,&nbsp;shape,&nbsp;position)</td>
<td>Extract a smaller array of the given shape and position from a larger array.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.utils.add_array.html#astropy.nddata.utils.add_array" title="astropy.nddata.utils.add_array"><code class="xref py py-obj docutils literal"><span class="pre">add_array</span></code></a>(array_large,&nbsp;array_small,&nbsp;position)</td>
<td>Add a smaller array at a given position in a larger array.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.utils.subpixel_indices.html#astropy.nddata.utils.subpixel_indices" title="astropy.nddata.utils.subpixel_indices"><code class="xref py py-obj docutils literal"><span class="pre">subpixel_indices</span></code></a>(position,&nbsp;subsampling)</td>
<td>Convert decimal points to indices, given a subsampling factor.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.utils.overlap_slices.html#astropy.nddata.utils.overlap_slices" title="astropy.nddata.utils.overlap_slices"><code class="xref py py-obj docutils literal"><span class="pre">overlap_slices</span></code></a>(large_array_shape,&nbsp;...[,&nbsp;mode])</td>
<td>Get slices for the overlapping part of a small and a large array.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.utils.block_reduce.html#astropy.nddata.utils.block_reduce" title="astropy.nddata.utils.block_reduce"><code class="xref py py-obj docutils literal"><span class="pre">block_reduce</span></code></a>(data,&nbsp;block_size[,&nbsp;func])</td>
<td>Downsample a data array by applying a function to local blocks.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.utils.block_replicate.html#astropy.nddata.utils.block_replicate" title="astropy.nddata.utils.block_replicate"><code class="xref py py-obj docutils literal"><span class="pre">block_replicate</span></code></a>(data,&nbsp;block_size[,&nbsp;conserve_sum])</td>
<td>Upsample a data array by block replication.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id3">
<h4>Classes<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.utils.NoOverlapError.html#astropy.nddata.utils.NoOverlapError" title="astropy.nddata.utils.NoOverlapError"><code class="xref py py-obj docutils literal"><span class="pre">NoOverlapError</span></code></a></td>
<td>Raised when determining the overlap of non-overlapping arrays.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/astropy.nddata.utils.PartialOverlapError.html#astropy.nddata.utils.PartialOverlapError" title="astropy.nddata.utils.PartialOverlapError"><code class="xref py py-obj docutils literal"><span class="pre">PartialOverlapError</span></code></a></td>
<td>Raised when arrays only partially overlap.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/astropy.nddata.utils.Cutout2D.html#astropy.nddata.utils.Cutout2D" title="astropy.nddata.utils.Cutout2D"><code class="xref py py-obj docutils literal"><span class="pre">Cutout2D</span></code></a>(data,&nbsp;position,&nbsp;size[,&nbsp;wcs,&nbsp;mode,&nbsp;...])</td>
<td>Create a cutout object from a 2D array.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">N-dimensional datasets (<code class="docutils literal"><span class="pre">astropy.nddata</span></code>)</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#getting-started">Getting started</a><ul>
<li><a class="reference internal" href="#make-a-test-image">Make a test image</a></li>
<li><a class="reference internal" href="#ccddata-class-for-images"><code class="docutils literal"><span class="pre">CCDData</span></code> class for images</a></li>
<li><a class="reference internal" href="#slicing">Slicing</a></li>
<li><a class="reference internal" href="#image-arithmetic-including-uncertainty">Image arithmetic, including uncertainty</a></li>
<li><a class="reference internal" href="#reading-and-writing">Reading and writing</a></li>
<li><a class="reference internal" href="#image-utilities">Image utilities</a><ul>
<li><a class="reference internal" href="#cutouts">Cutouts</a></li>
<li><a class="reference internal" href="#image-resizing">Image resizing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-image-classes">Other image classes</a></li>
<li><a class="reference internal" href="#more-general-gridded-data-class">More general gridded data class</a></li>
</ul>
</li>
<li><a class="reference internal" href="#additional-examples">Additional examples</a></li>
<li><a class="reference internal" href="#using-nddata">Using <code class="docutils literal"><span class="pre">nddata</span></code></a></li>
<li><a class="reference internal" href="#reference-api">Reference/API</a><ul>
<li><a class="reference internal" href="#module-astropy.nddata">astropy.nddata Package</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#classes">Classes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-astropy.nddata.utils">astropy.nddata.utils Module</a><ul>
<li><a class="reference internal" href="#id2">Functions</a></li>
<li><a class="reference internal" href="#id3">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="http://github.com/astropy/astropy/tree/master/docs/nddata/index.rst">Edit This Page on Github</a> &nbsp;
    <a href="../_sources/nddata/index.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011-2016, The Astropy Developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.5.6. &nbsp;
    Last built 05 Jul 2017. <br/>
  </p>
</footer>
  </body>
</html>