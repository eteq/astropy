<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>convolve_fft &#8212; Astropy v3.0.dev19489</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0.dev19489',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="convolve_models" href="astropy.convolution.convolve_models.html" />
    <link rel="prev" title="convolve" href="astropy.convolution.convolve.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body role="document">
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="astropy.convolution.convolve_models.html" title="convolve_models">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="astropy.convolution.convolve.html" title="convolve">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v3.0.dev19489</a>
	 &#187;
      </li>
      <li><a href="../convolution/index.html" accesskey="U">Convolution and filtering (<code class="docutils literal"><span class="pre">astropy.convolution</span></code>)</a> &#187;</li>
      
      <li>convolve_fft</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="convolve-fft">
<h1>convolve_fft<a class="headerlink" href="#convolve-fft" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="astropy.convolution.convolve_fft">
<code class="descclassname">astropy.convolution.</code><code class="descname">convolve_fft</code><span class="sig-paren">(</span><em>array</em>, <em>kernel</em>, <em>boundary='fill'</em>, <em>fill_value=0.0</em>, <em>nan_treatment='interpolate'</em>, <em>normalize_kernel=True</em>, <em>normalization_zero_tol=1e-08</em>, <em>preserve_nan=False</em>, <em>mask=None</em>, <em>crop=True</em>, <em>return_fft=False</em>, <em>fft_pad=None</em>, <em>psf_pad=None</em>, <em>quiet=False</em>, <em>min_wt=0.0</em>, <em>allow_huge=False</em>, <em>fftn=&lt;function fftn&gt;</em>, <em>ifftn=&lt;function ifftn&gt;</em>, <em>complex_dtype=&lt;class 'complex'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/astropy/convolution/convolve.html#convolve_fft"><span class="viewcode-link">[source]</span></a><a class="reference external" href="http://github.com/astropy/astropy/tree/master/astropy/convolution/convolve.py#L323" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[edit on github]</span></a><a class="headerlink" href="#astropy.convolution.convolve_fft" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve an ndarray with an nd-kernel.  Returns a convolved image with
<code class="docutils literal"><span class="pre">shape</span> <span class="pre">=</span> <span class="pre">array.shape</span></code>.  Assumes kernel is centered.</p>
<p><a class="reference internal" href="#astropy.convolution.convolve_fft" title="astropy.convolution.convolve_fft"><code class="xref py py-obj docutils literal"><span class="pre">convolve_fft</span></code></a> is very similar to <a class="reference internal" href="astropy.convolution.convolve.html#astropy.convolution.convolve" title="astropy.convolution.convolve"><code class="xref py py-obj docutils literal"><span class="pre">convolve</span></code></a> in that it replaces <code class="docutils literal"><span class="pre">NaN</span></code>
values in the original image with interpolated values using the kernel as
an interpolation function.  However, it also includes many additional
options specific to the implementation.</p>
<p><a class="reference internal" href="#astropy.convolution.convolve_fft" title="astropy.convolution.convolve_fft"><code class="xref py py-obj docutils literal"><span class="pre">convolve_fft</span></code></a> differs from <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.fftconvolve.html#scipy.signal.fftconvolve" title="(in SciPy v0.19.1)"><code class="xref py py-obj docutils literal"><span class="pre">scipy.signal.fftconvolve</span></code></a> in a few ways:</p>
<ul class="simple">
<li>It can treat <code class="docutils literal"><span class="pre">NaN</span></code> values as zeros or interpolate over them.</li>
<li><code class="docutils literal"><span class="pre">inf</span></code> values are treated as <code class="docutils literal"><span class="pre">NaN</span></code></li>
<li>(optionally) It pads to the nearest 2^n size to improve FFT speed.</li>
<li>Its only valid <code class="docutils literal"><span class="pre">mode</span></code> is &#8216;same&#8217; (i.e., the same shape array is returned)</li>
<li>It lets you use your own fft, e.g.,
<a class="reference external" href="http://pypi.python.org/pypi/pyFFTW">pyFFTW</a> or
<a class="reference external" href="http://pypi.python.org/pypi/PyFFTW3/0.2.1">pyFFTW3</a> , which can lead to
performance improvements, depending on your system configuration.  pyFFTW3
is threaded, and therefore may yield significant performance benefits on
multi-core machines at the cost of greater memory requirements.  Specify
the <code class="docutils literal"><span class="pre">fftn</span></code> and <code class="docutils literal"><span class="pre">ifftn</span></code> keywords to override the default, which is
<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.fft.fft.html#numpy.fft.fft" title="(in NumPy v1.13)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.fft.fft</span></code></a> and <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.fft.ifft.html#numpy.fft.ifft" title="(in NumPy v1.13)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.fft.ifft</span></code></a>.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>array</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>Array to be convolved with <code class="docutils literal"><span class="pre">kernel</span></code>.  It can be of any
dimensionality, though only 1, 2, and 3d arrays have been tested.</p>
</div></blockquote>
<p><strong>kernel</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a> or <a class="reference internal" href="astropy.convolution.Kernel.html#astropy.convolution.Kernel" title="astropy.convolution.Kernel"><code class="xref py py-obj docutils literal"><span class="pre">astropy.convolution.Kernel</span></code></a></p>
<blockquote>
<div><p>The convolution kernel. The number of dimensions should match those
for the array.  The dimensions <em>do not</em> have to be odd in all directions,
unlike in the non-fft <a class="reference internal" href="astropy.convolution.convolve.html#astropy.convolution.convolve" title="astropy.convolution.convolve"><code class="xref py py-obj docutils literal"><span class="pre">convolve</span></code></a> function.  The kernel will be
normalized if <code class="docutils literal"><span class="pre">normalize_kernel</span></code> is set.  It is assumed to be centered
(i.e., shifts may result if your kernel is asymmetric)</p>
</div></blockquote>
<p><strong>boundary</strong> : {&#8216;fill&#8217;, &#8216;wrap&#8217;}, optional</p>
<blockquote>
<div><p>A flag indicating how to handle boundaries:</p>
<blockquote>
<div><ul class="simple">
<li>&#8216;fill&#8217;: set values outside the array boundary to fill_value
(default)</li>
<li>&#8216;wrap&#8217;: periodic boundary</li>
</ul>
</div></blockquote>
<p>The <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">None</span></code></a> and &#8216;extend&#8217; parameters are not supported for FFT-based
convolution</p>
</div></blockquote>
<p><strong>fill_value</strong> : float, optional</p>
<blockquote>
<div><p>The value to use outside the array when using boundary=&#8217;fill&#8217;</p>
</div></blockquote>
<p><strong>nan_treatment</strong> : &#8216;interpolate&#8217;, &#8216;fill&#8217;</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">interpolate</span></code> will result in renormalization of the kernel at each
position ignoring (pixels that are NaN in the image) in both the image
and the kernel.  <code class="docutils literal"><span class="pre">fill</span></code> will replace the NaN pixels with a fixed
numerical value (default zero, see <code class="docutils literal"><span class="pre">fill_value</span></code>) prior to
convolution.  Note that if the kernel has a sum equal to zero, NaN
interpolation is not possible and will raise an exception.</p>
</div></blockquote>
<p><strong>normalize_kernel</strong> : function or boolean, optional</p>
<blockquote>
<div><p>If specified, this is the function to divide kernel by to normalize it.
e.g., <code class="docutils literal"><span class="pre">normalize_kernel=np.sum</span></code> means that kernel will be modified to be:
<code class="docutils literal"><span class="pre">kernel</span> <span class="pre">=</span> <span class="pre">kernel</span> <span class="pre">/</span> <span class="pre">np.sum(kernel)</span></code>.  If True, defaults to
<code class="docutils literal"><span class="pre">normalize_kernel</span> <span class="pre">=</span> <span class="pre">np.sum</span></code>.</p>
</div></blockquote>
<p><strong>normalization_zero_tol: float, optional</strong></p>
<blockquote>
<div><p>The absolute tolerance on whether the kernel is different than zero.
If the kernel sums to zero to within this precision, it cannot be
normalized. Default is &#8220;1e-8&#8221;.</p>
</div></blockquote>
<p><strong>preserve_nan</strong> : bool</p>
<blockquote>
<div><p>After performing convolution, should pixels that were originally NaN
again become NaN?</p>
</div></blockquote>
<p><strong>mask</strong> : <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">None</span></code></a> or <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>A &#8220;mask&#8221; array.  Shape must match <code class="docutils literal"><span class="pre">array</span></code>, and anything that is masked
(i.e., not 0/<a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">False</span></code></a>) will be set to NaN for the convolution.  If
<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">None</span></code></a>, no masking will be performed unless <code class="docutils literal"><span class="pre">array</span></code> is a masked array.
If <code class="docutils literal"><span class="pre">mask</span></code> is not <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">None</span></code></a> <em>and</em> <code class="docutils literal"><span class="pre">array</span></code> is a masked array, a pixel is
masked of it is masked in either <code class="docutils literal"><span class="pre">mask</span></code> <em>or</em> <code class="docutils literal"><span class="pre">array.mask</span></code>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>default</strong> : ndarray</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">array</span></code> convolved with <code class="docutils literal"><span class="pre">kernel</span></code>.  If <code class="docutils literal"><span class="pre">return_fft</span></code> is set, returns
<code class="docutils literal"><span class="pre">fft(array)</span> <span class="pre">*</span> <span class="pre">fft(kernel)</span></code>.  If crop is not set, returns the
image, but with the fft-padded size instead of the input size</p>
</div></blockquote>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Other Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first"><strong>min_wt</strong> : float, optional</p>
<blockquote>
<div><p>If ignoring <code class="docutils literal"><span class="pre">NaN</span></code> / zeros, force all grid points with a weight less than
this value to <code class="docutils literal"><span class="pre">NaN</span></code> (the weight of a grid point with <em>no</em> ignored
neighbors is 1.0).
If <code class="docutils literal"><span class="pre">min_wt</span></code> is zero, then all zero-weight points will be set to zero
instead of <code class="docutils literal"><span class="pre">NaN</span></code> (which they would be otherwise, because 1/0 = nan).
See the examples below</p>
</div></blockquote>
<p><strong>fft_pad</strong> : bool, optional</p>
<blockquote>
<div><p>Default on.  Zero-pad image to the nearest 2^n.  With
<code class="docutils literal"><span class="pre">boundary='wrap'</span></code>, this will be disabled.</p>
</div></blockquote>
<p><strong>psf_pad</strong> : bool, optional</p>
<blockquote>
<div><p>Zero-pad image to be at least the sum of the image sizes to avoid
edge-wrapping when smoothing.  This is enabled by default with
<code class="docutils literal"><span class="pre">boundary='fill'</span></code>, but it can be overridden with a boolean option.
<code class="docutils literal"><span class="pre">boundary='wrap'</span></code> and <code class="docutils literal"><span class="pre">psf_pad=True</span></code> are not compatible.</p>
</div></blockquote>
<p><strong>crop</strong> : bool, optional</p>
<blockquote>
<div><p>Default on.  Return an image of the size of the larger of the input
image and the kernel.
If the image and kernel are asymmetric in opposite directions, will
return the largest image in both directions.
For example, if an input image has shape [100,3] but a kernel with shape
[6,6] is used, the output will be [100,6].</p>
</div></blockquote>
<p><strong>return_fft</strong> : bool, optional</p>
<blockquote>
<div><p>Return the <code class="docutils literal"><span class="pre">fft(image)*fft(kernel)</span></code> instead of the convolution (which is
<code class="docutils literal"><span class="pre">ifft(fft(image)*fft(kernel))</span></code>).  Useful for making PSDs.</p>
</div></blockquote>
<p><strong>fftn, ifftn</strong> : functions, optional</p>
<blockquote>
<div><p>The fft and inverse fft functions.  Can be overridden to use your own
ffts, e.g. an fftw3 wrapper or scipy&#8217;s fftn,
<code class="docutils literal"><span class="pre">fft=scipy.fftpack.fftn</span></code></p>
</div></blockquote>
<p><strong>complex_dtype</strong> : numpy.complex, optional</p>
<blockquote>
<div><p>Which complex dtype to use.  <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/index.html#module-numpy" title="(in NumPy v1.13)"><code class="xref py py-obj docutils literal"><span class="pre">numpy</span></code></a> has a range of options, from 64 to
256.</p>
</div></blockquote>
<p><strong>quiet</strong> : bool, optional</p>
<blockquote>
<div><p>Silence warning message about NaN interpolation</p>
</div></blockquote>
<p><strong>allow_huge</strong> : bool, optional</p>
<blockquote>
<div><p>Allow huge arrays in the FFT?  If False, will raise an exception if the
array or kernel size is &gt;1 GB</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>ValueError:</strong></p>
<blockquote class="last">
<div><p>If the array is bigger than 1 GB after padding, will raise this exception
unless <code class="docutils literal"><span class="pre">allow_huge</span></code> is True</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="astropy.convolution.convolve.html#astropy.convolution.convolve" title="astropy.convolution.convolve"><code class="xref py py-obj docutils literal"><span class="pre">convolve</span></code></a></dt>
<dd>Convolve is a non-fft version of this code.  It is more memory efficient and for small kernels can be faster.</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>With <code class="docutils literal"><span class="pre">psf_pad=True</span></code> and a large PSF, the resulting data can become
very large and consume a lot of memory.  See Issue
<a class="reference external" href="https://github.com/astropy/astropy/pull/4366">https://github.com/astropy/astropy/pull/4366</a> for further detail.</p>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">convolve_fft</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">array([ 1.,  4.,  3.])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">convolve_fft</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">array([ 1.,  4.,  3.])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">convolve_fft</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">array([ 1.,  0.,  3.])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">convolve_fft</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">array([ 1.,  2.,  3.])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">convolve_fft</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">nan_treatment</span><span class="o">=</span><span class="s1">&#39;interpolate&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">array([ 1.,  0.,  3.])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">convolve_fft</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">nan_treatment</span><span class="o">=</span><span class="s1">&#39;interpolate&#39;</span><span class="p">,</span>
<span class="gp">... </span>             <span class="n">min_wt</span><span class="o">=</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">8</span><span class="p">)</span>
<span class="go">array([ 1.,  nan,  3.])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">convolve_fft</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">nan_treatment</span><span class="o">=</span><span class="s1">&#39;interpolate&#39;</span><span class="p">)</span>
<span class="go">array([ 1.,  4.,  3.])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">convolve_fft</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">nan_treatment</span><span class="o">=</span><span class="s1">&#39;interpolate&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">normalize_kernel</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">array([ 1.,  2.,  3.])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.fftpack</span>  <span class="c1"># optional - requires scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">convolve_fft</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">nan_treatment</span><span class="o">=</span><span class="s1">&#39;interpolate&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">normalize_kernel</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">fftn</span><span class="o">=</span><span class="n">scipy</span><span class="o">.</span><span class="n">fftpack</span><span class="o">.</span><span class="n">fft</span><span class="p">,</span> <span class="n">ifftn</span><span class="o">=</span><span class="n">scipy</span><span class="o">.</span><span class="n">fftpack</span><span class="o">.</span><span class="n">ifft</span><span class="p">)</span>
<span class="go">array([ 1.,  2.,  3.])</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">convolve_fft</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/astropy.convolution.convolve_fft.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011-2016, The Astropy Developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.5.6. &nbsp;
    Last built 05 Jul 2017. <br/>
  </p>
</footer>
  </body>
</html>