<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>What’s New in Astropy 2.0? &#8212; Astropy v3.0.dev19489</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0.dev19489',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Importing astropy and subpackages" href="../importing_astropy.html" />
    <link rel="prev" title="Installation" href="../install.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body role="document">
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="../importing_astropy.html" title="Importing astropy and subpackages">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="../install.html" title="Installation">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v3.0.dev19489</a>
	 &#187;
      </li>
      
      <li>What&#8217;s New in Astropy 2.0?</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="what-s-new-in-astropy-2-0">
<span id="whatsnew-2-0"></span><h1>What&#8217;s New in Astropy 2.0?<a class="headerlink" href="#what-s-new-in-astropy-2-0" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Astropy 2.0 is a major release that adds significant new functionality since
the 1.3.x series of releases.</p>
<p>In particular, this release includes:</p>
<ul class="simple">
<li><a class="reference internal" href="#whatsnew-2-0-table-uni-sandwich"><span class="std std-ref">Easier use of efficient bytestring Table columns in Python 3</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-cosmo-def"><span class="std std-ref">No relativistic species by default in cosmological models</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-conesearch-astroquery"><span class="std std-ref">Cone search module (astropy.vo.conesearch) moved to astroquery</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-samp-moved"><span class="std std-ref">SAMP module moved to astropy.samp</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-sigmaclip"><span class="std std-ref">New SigmaClip class</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-ddof"><span class="std std-ref">New std_ddof keyword to sigma_clipped_stats()</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-stats-biweight-midcov"><span class="std std-ref">New biweight_midcovariance function in astropy.stats</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-stats-k-func"><span class="std std-ref">New statistical estimators for Ripley&#8217;s K Function</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-bintablehdu-from-table"><span class="std std-ref">New way to instantiate a BinTableHDU directly from a Table</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-fits-printdiff"><span class="std std-ref">New printdiff convenience function for FITS</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-molar-mass"><span class="std std-ref">New molar_mass_amu unit equivalency</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-models-units"><span class="std std-ref">New unit support for most models</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-n-submodels"><span class="std std-ref">New n_submodels shared method in single and compound models</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-with-bounding-box"><span class="std std-ref">Two new optional arguments when evaluating a model - with_bounding_box and fill_value</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-no-bundled-pytest"><span class="std std-ref">No more bundled pytest with Astropy distribution</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-ccddata-class"><span class="std std-ref">New image class CCDData added</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-ascii-ecsv-mixins"><span class="std std-ref">Store astropy core object types in ASCII ECSV table file</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-velocity-corrections"><span class="std std-ref">Barycentric/heliocentric radial velocity corrections</span></a></li>
<li><a class="reference internal" href="#whatsnew-2-0-coordinates-velocities"><span class="std std-ref">Experimental velocity support in astropy.coordinates</span></a></li>
</ul>
<p>In addition to these major changes, Astropy 2.0 includes a large number of
smaller improvements and bug fixes, which are described in the
<a class="reference internal" href="../changelog.html#changelog"><span class="std std-ref">Full Changelog</span></a>. By the numbers:</p>
<ul class="simple">
<li>xxx issues have been closed since v1.3</li>
<li>xxx pull requests have been merged since v1.3</li>
<li>xxx distinct people have contributed code</li>
</ul>
</div>
<div class="section" id="easier-use-of-efficient-bytestring-table-columns-in-python-3">
<span id="whatsnew-2-0-table-uni-sandwich"></span><h2>Easier use of efficient bytestring Table columns in Python 3<a class="headerlink" href="#easier-use-of-efficient-bytestring-table-columns-in-python-3" title="Permalink to this headline">¶</a></h2>
<p>Working with bytestring Table columns (numpy <code class="docutils literal"><span class="pre">'S'</span></code> dtype) in Python
3 has been made more convenient because it is now possible to compare
and set array elements with the natural Python string (<code class="docutils literal"><span class="pre">str</span></code>) type.
Previously one had to use the Python <code class="docutils literal"><span class="pre">bytes</span></code> type and bytestring literals
like <code class="docutils literal"><span class="pre">b'hello'</span></code>.  This change allows working with ASCII data columns
in Python 3 using only 1-byte per character instead of the default
4-bytes per character for the numpy <code class="docutils literal"><span class="pre">'U'</span></code> unicode dtype.  For large
datasets this improves memory performance.</p>
<p>Please see <a class="reference internal" href="../table/access_table.html#bytestring-columns-python-3"><span class="std std-ref">Bytestring columns in Python 3</span></a> for details.  Note that no
change has been made to behavior for Python 2.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This introduces an API change that affects comparison of
bytestring column elements in Python 3.</p>
<p class="last">If comparison with <code class="docutils literal"><span class="pre">str</span></code> instead of <code class="docutils literal"><span class="pre">bytes</span></code> is a problem
(and <code class="docutils literal"><span class="pre">bytes</span></code> is really more logical), please open an issue
on GitHub.</p>
</div>
</div>
<div class="section" id="no-relativistic-species-by-default-in-cosmological-models">
<span id="whatsnew-2-0-cosmo-def"></span><h2>No relativistic species by default in cosmological models<a class="headerlink" href="#no-relativistic-species-by-default-in-cosmological-models" title="Permalink to this headline">¶</a></h2>
<p>For all of the built in cosmological model types (e.g., FlatLambdaCDM)
the default CMB temperature at z=0 is now 0K, which corresponds to no
contributions from photons or neutrinos (massive or otherwise).  This
does not affect built in literature models (such as the WMAP or Planck
models).  The justification is to avoid including mass-energy components
that the user has not explicitly requested.  This is a non-backwards
compatible change, although the effects are small for most use cases.</p>
<p>Convolution has undergone a significant overhaul to make fft and direct
convolution consistent.  They keyword arguments have changed and the behavior
of <a class="reference internal" href="../api/astropy.convolution.convolve.html#astropy.convolution.convolve" title="astropy.convolution.convolve"><code class="xref py py-obj docutils literal"><span class="pre">convolve</span></code></a> is no longer the same as in versions prior to
2.0 (although <a class="reference internal" href="../api/astropy.convolution.convolve_fft.html#astropy.convolution.convolve_fft" title="astropy.convolution.convolve_fft"><code class="xref py py-obj docutils literal"><span class="pre">convolve_fft</span></code></a>&#8216;s behavior remains unchanged).
The details are given on the <a class="reference internal" href="../convolution/index.html#astropy-convolve"><span class="std std-ref">astropy convolution</span></a>.</p>
</div>
<div class="section" id="cone-search-module-astropy-vo-conesearch-moved-to-astroquery">
<span id="whatsnew-2-0-conesearch-astroquery"></span><h2>Cone search module (<code class="docutils literal"><span class="pre">astropy.vo.conesearch</span></code>) moved to astroquery<a class="headerlink" href="#cone-search-module-astropy-vo-conesearch-moved-to-astroquery" title="Permalink to this headline">¶</a></h2>
<p>The cone search module has been moved to <a class="reference external" href="http://astroquery.readthedocs.io">Astroquery</a> (0.3.5 and later) and will be removed from
Astropy in a future version. The API here will be preserved as &#8220;classic&#8221; API in
Astroquery, however some configuration behavior might change; See the Astroquery
documentation for new usage details.</p>
</div>
<div class="section" id="samp-module-moved-to-astropy-samp">
<span id="whatsnew-2-0-samp-moved"></span><h2>SAMP module moved to <a class="reference internal" href="../samp/index.html#module-astropy.samp" title="astropy.samp"><code class="xref py py-obj docutils literal"><span class="pre">astropy.samp</span></code></a><a class="headerlink" href="#samp-module-moved-to-astropy-samp" title="Permalink to this headline">¶</a></h2>
<p>The SAMP (Simple Application Messaging Protocol) module, formerly available
in <code class="docutils literal"><span class="pre">astropy.samp</span></code>, has now been moved to <a class="reference internal" href="../samp/index.html#module-astropy.samp" title="astropy.samp"><code class="xref py py-obj docutils literal"><span class="pre">astropy.samp</span></code></a>, so you should
update any imports to this module.</p>
</div>
<div class="section" id="new-sigmaclip-class">
<span id="whatsnew-2-0-sigmaclip"></span><h2>New <a class="reference internal" href="../api/astropy.stats.SigmaClip.html#astropy.stats.SigmaClip" title="astropy.stats.SigmaClip"><code class="xref py py-obj docutils literal"><span class="pre">SigmaClip</span></code></a> class<a class="headerlink" href="#new-sigmaclip-class" title="Permalink to this headline">¶</a></h2>
<p>A new <a class="reference internal" href="../api/astropy.stats.SigmaClip.html#astropy.stats.SigmaClip" title="astropy.stats.SigmaClip"><code class="xref py py-class docutils literal"><span class="pre">SigmaClip</span></code></a> class was added as an
object-oriented interface for sigma clipping:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.stats</span> <span class="k">import</span> <span class="n">SigmaClip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigclip</span> <span class="o">=</span> <span class="n">SigmaClip</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">iters</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sigclip</span><span class="p">)</span>  
<span class="go">&lt;SigmaClip&gt;</span>
<span class="go">    sigma: 3</span>
<span class="go">    sigma_lower: None</span>
<span class="go">    sigma_upper: None</span>
<span class="go">    iters: 10</span>
<span class="go">    cenfunc: &lt;function median at 0x108dbde18&gt;</span>
<span class="go">    stdfunc: &lt;function std at 0x103ab52f0&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigclip</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="go">masked_array(data = [1 5 6 8 -- 5 3 2],</span>
<span class="go">             mask = [False False False False  True False False False],</span>
<span class="go">       fill_value = 999999)</span>
</pre></div>
</div>
<p>Note that once the <code class="docutils literal"><span class="pre">sigclip</span></code> instance is defined above, it can be
applied to other data, using the same, already-defined, sigma-clipping
parameters.</p>
</div>
<div class="section" id="new-std-ddof-keyword-to-sigma-clipped-stats">
<span id="whatsnew-2-0-ddof"></span><h2>New <code class="docutils literal"><span class="pre">std_ddof</span></code> keyword to <a class="reference internal" href="../api/astropy.stats.sigma_clipped_stats.html#astropy.stats.sigma_clipped_stats" title="astropy.stats.sigma_clipped_stats"><code class="xref py py-func docutils literal"><span class="pre">sigma_clipped_stats()</span></code></a><a class="headerlink" href="#new-std-ddof-keyword-to-sigma-clipped-stats" title="Permalink to this headline">¶</a></h2>
<p>A new <code class="docutils literal"><span class="pre">std_ddof</span></code> keyword option was added to
<a class="reference internal" href="../api/astropy.stats.sigma_clipped_stats.html#astropy.stats.sigma_clipped_stats" title="astropy.stats.sigma_clipped_stats"><code class="xref py py-func docutils literal"><span class="pre">sigma_clipped_stats()</span></code></a>.  This keyword represents
the delta degrees of freedom for the standard deviation calculation.
Specifically, the divisor used in the calculation is <code class="docutils literal"><span class="pre">N</span> <span class="pre">-</span> <span class="pre">std_ddof</span></code>,
where <code class="docutils literal"><span class="pre">N</span></code> represents the number of array elements.  The <code class="docutils literal"><span class="pre">std_ddof</span></code>
default value is zero.</p>
</div>
<div class="section" id="new-biweight-midcovariance-function-in-astropy-stats">
<span id="whatsnew-2-0-stats-biweight-midcov"></span><h2>New <code class="docutils literal"><span class="pre">biweight_midcovariance</span></code> function in <a class="reference internal" href="../stats/index.html#module-astropy.stats" title="astropy.stats"><code class="xref py py-obj docutils literal"><span class="pre">astropy.stats</span></code></a><a class="headerlink" href="#new-biweight-midcovariance-function-in-astropy-stats" title="Permalink to this headline">¶</a></h2>
<p>A new <code class="docutils literal"><span class="pre">biweight_midcovariance</span></code> function was added to <a class="reference internal" href="../stats/index.html#module-astropy.stats" title="astropy.stats"><code class="xref py py-obj docutils literal"><span class="pre">astropy.stats</span></code></a>.
This is a robust and resistant estimator of the covariance matrix.
For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.stats</span> <span class="k">import</span> <span class="n">biweight_midcovariance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Generate 2D normal sampling of points</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">rng</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span> <span class="n">rng</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">200</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Introduce an obvious outlier</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">30.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Calculate biweight covariances</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bw_cov</span> <span class="o">=</span> <span class="n">biweight_midcovariance</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Print out recovered standard deviations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">bw_cov</span><span class="o">.</span><span class="n">diagonal</span><span class="p">()),</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">[ 0.9  3.1]</span>
</pre></div>
</div>
</div>
<div class="section" id="new-statistical-estimators-for-ripley-s-k-function">
<span id="whatsnew-2-0-stats-k-func"></span><h2>New statistical estimators for Ripley&#8217;s K Function<a class="headerlink" href="#new-statistical-estimators-for-ripley-s-k-function" title="Permalink to this headline">¶</a></h2>
<p>New statistical estimators for Ripley&#8217;s K Function, <code class="docutils literal"><span class="pre">RipleysKEstimator</span></code>,
in <a class="reference internal" href="../stats/index.html#module-astropy.stats" title="astropy.stats"><code class="xref py py-obj docutils literal"><span class="pre">astropy.stats</span></code></a>. For example:</p>
<p>(<a class="reference external" href="../whatsnew/2-0-1.png">png</a>, <a class="reference external" href="../whatsnew/2-0-1.svg">svg</a>, <a class="reference external" href="../whatsnew/2-0-1.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/2-0-1.png" src="../_images/2-0-1.png" />
</div>
</div>
<div class="section" id="new-way-to-instantiate-a-bintablehdu-directly-from-a-table">
<span id="whatsnew-2-0-bintablehdu-from-table"></span><h2>New way to instantiate a <code class="docutils literal"><span class="pre">BinTableHDU</span></code> directly from a <code class="docutils literal"><span class="pre">Table</span></code><a class="headerlink" href="#new-way-to-instantiate-a-bintablehdu-directly-from-a-table" title="Permalink to this headline">¶</a></h2>
<p>A new way to instantiate a FITS <code class="docutils literal"><span class="pre">BinTableHDU</span></code> directly from a <code class="docutils literal"><span class="pre">Table</span></code>
object. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.io</span> <span class="k">import</span> <span class="n">fits</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.table</span> <span class="k">import</span> <span class="n">Table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tab</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.3</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mf">6.7</span><span class="p">]],</span>
<span class="gp">... </span>            <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;U1&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdu</span> <span class="o">=</span> <span class="n">fits</span><span class="o">.</span><span class="n">BinTableHDU</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="new-printdiff-convenience-function-for-fits">
<span id="whatsnew-2-0-fits-printdiff"></span><h2>New <code class="docutils literal"><span class="pre">printdiff</span></code> convenience function for FITS<a class="headerlink" href="#new-printdiff-convenience-function-for-fits" title="Permalink to this headline">¶</a></h2>
<p>A new <code class="docutils literal"><span class="pre">printdiff</span></code> convenience function was added for comparison between
FITS files. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.io</span> <span class="k">import</span> <span class="n">fits</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdu1</span> <span class="o">=</span> <span class="n">fits</span><span class="o">.</span><span class="n">ImageHDU</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdu2</span> <span class="o">=</span> <span class="n">fits</span><span class="o">.</span><span class="n">ImageHDU</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.1</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fits</span><span class="o">.</span><span class="n">printdiff</span><span class="p">(</span><span class="n">hdu1</span><span class="p">,</span> <span class="n">hdu2</span><span class="p">)</span>

<span class="go">Headers contain differences:</span>
<span class="go">  Keyword BITPIX   has different values:</span>
<span class="go">     a&gt; 64</span>
<span class="go">     b&gt; -64</span>
<span class="go">      ? +</span>

<span class="go">Data contains differences:</span>
<span class="go">  Data differs at [2]:</span>
<span class="go">       (int64) a&gt; 2</span>
<span class="go">     (float64) b&gt; 2.1000000000000001</span>
<span class="go">  1 different pixels found (33.33% different).</span>
</pre></div>
</div>
</div>
<div class="section" id="new-molar-mass-amu-unit-equivalency">
<span id="whatsnew-2-0-molar-mass"></span><h2>New <code class="docutils literal"><span class="pre">molar_mass_amu</span></code> unit equivalency<a class="headerlink" href="#new-molar-mass-amu-unit-equivalency" title="Permalink to this headline">¶</a></h2>
<p>A new equivalency named <code class="docutils literal"><span class="pre">molar_mass_amu</span></code> to convert between <code class="docutils literal"><span class="pre">g/mol</span></code> unit
to atomic mass unit (amu). For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="k">import</span> <span class="n">constants</span> <span class="k">as</span> <span class="n">const</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="k">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">*</span> <span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">g</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">mol</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">u</span><span class="p">,</span> <span class="n">equivalencies</span><span class="o">=</span><span class="n">u</span><span class="o">.</span><span class="n">molar_mass_amu</span><span class="p">())</span>
<span class="go">&lt;Quantity 1.0 u&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">g</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">mol</span><span class="p">,</span> <span class="n">equivalencies</span><span class="o">=</span><span class="n">u</span><span class="o">.</span><span class="n">molar_mass_amu</span><span class="p">())</span>
<span class="go">&lt;Quantity 1.0 g / mol&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="new-unit-support-for-most-models">
<span id="whatsnew-2-0-models-units"></span><h2>New unit support for most models<a class="headerlink" href="#new-unit-support-for-most-models" title="Permalink to this headline">¶</a></h2>
<p>Most Astropy models now can handle inputs with units, and produce the
appropriate outputs with units as well. Some models cannot support this due
to their definitions (e.g., Legendre, Hermite, etc), while some will have
this capability added in a future release. Example usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="k">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.modeling.models</span> <span class="k">import</span> <span class="n">Gaussian1D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Gaussian1D</span><span class="p">(</span><span class="n">amplitude</span><span class="o">=</span><span class="mi">1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">J</span><span class="p">,</span> <span class="n">mean</span><span class="o">=</span><span class="mi">1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="n">stddev</span><span class="o">=</span><span class="mf">0.1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">)</span>
<span class="go">&lt;Quantity [  3.70353198e-21,  9.72098502e-21,  4.05703276e-20] J&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="new-n-submodels-shared-method-in-single-and-compound-models">
<span id="whatsnew-2-0-n-submodels"></span><h2>New <code class="docutils literal"><span class="pre">n_submodels</span></code> shared method in single and compound models<a class="headerlink" href="#new-n-submodels-shared-method-in-single-and-compound-models" title="Permalink to this headline">¶</a></h2>
<p>A new <code class="docutils literal"><span class="pre">n_submodels</span></code> shared method in single and compound models.
This enables accurate reporting of number of sub-models in a given model.
For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.modeling.models</span> <span class="k">import</span> <span class="n">Gaussian1D</span><span class="p">,</span> <span class="n">Gaussian2D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span> <span class="o">=</span> <span class="n">Gaussian1D</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span><span class="o">.</span><span class="n">n_submodels</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span> <span class="o">=</span> <span class="n">g1</span> <span class="o">+</span> <span class="n">Gaussian1D</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span><span class="o">.</span><span class="n">n_submodels</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
</div>
<div class="section" id="two-new-optional-arguments-when-evaluating-a-model-with-bounding-box-and-fill-value">
<span id="whatsnew-2-0-with-bounding-box"></span><h2>Two new optional arguments when evaluating a model - <code class="docutils literal"><span class="pre">with_bounding_box</span></code> and <code class="docutils literal"><span class="pre">fill_value</span></code><a class="headerlink" href="#two-new-optional-arguments-when-evaluating-a-model-with-bounding-box-and-fill-value" title="Permalink to this headline">¶</a></h2>
<p>Two new arguments can be passed when evaluating a model to specify the bounding box
should be respected. If <code class="docutils literal"><span class="pre">with_bounding_box=True</span></code> and a model has a bounding_box,
the output values corresponding to inputs outside the bounding box are set to <code class="docutils literal"><span class="pre">fill_value</span></code>.
For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.modeling.models</span> <span class="k">import</span> <span class="n">Polynomial1D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Polynomial1D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">c0</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c1</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">bounding_box</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">with_bounding_box</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=-</span><span class="mi">100</span><span class="p">)</span>
<span class="go">array([-100., -100., -100., -100.,   -1.,    2.,    5.,    8.,   11.,   14.])</span>
</pre></div>
</div>
</div>
<div class="section" id="no-more-bundled-pytest-with-astropy-distribution">
<span id="whatsnew-2-0-no-bundled-pytest"></span><h2>No more bundled <code class="docutils literal"><span class="pre">pytest</span></code> with Astropy distribution<a class="headerlink" href="#no-more-bundled-pytest-with-astropy-distribution" title="Permalink to this headline">¶</a></h2>
<p>The bundled version of <code class="docutils literal"><span class="pre">pytest</span></code> has now been removed, but the
<code class="docutils literal"><span class="pre">astropy.tests.helper.pytest</span></code> import will continue to work properly.
Affiliated packages should nevertheless transition to importing <code class="docutils literal"><span class="pre">pytest</span></code>
directly rather than from <a class="reference internal" href="../testhelpers.html#module-astropy.tests.helper" title="astropy.tests.helper"><code class="xref py py-obj docutils literal"><span class="pre">astropy.tests.helper</span></code></a>. This also means that
<code class="docutils literal"><span class="pre">pytest</span></code> is now a formal requirement for testing for both Astropy and
for affiliated packages.</p>
</div>
<div class="section" id="new-image-class-ccddata-added">
<span id="whatsnew-2-0-ccddata-class"></span><h2>New image class <code class="docutils literal"><span class="pre">CCDData</span></code> added<a class="headerlink" href="#new-image-class-ccddata-added" title="Permalink to this headline">¶</a></h2>
<p>A new class, <code class="docutils literal"><span class="pre">CCDData</span></code>, has been added to the <code class="docutils literal"><span class="pre">nddata</span></code> package. It can
read from/write to FITS files, provides methods for arithmetic operations
with propagation of uncertainty, and support for binary masks.</p>
</div>
<div class="section" id="store-astropy-core-object-types-in-ascii-ecsv-table-file">
<span id="whatsnew-2-0-ascii-ecsv-mixins"></span><h2>Store astropy core object types in ASCII ECSV table file<a class="headerlink" href="#store-astropy-core-object-types-in-ascii-ecsv-table-file" title="Permalink to this headline">¶</a></h2>
<p>It is now possible to store the following <a class="reference internal" href="../table/mixin_columns.html#mixin-columns"><span class="std std-ref">mixin column</span></a> types in an ASCII <a class="reference internal" href="../io/ascii/write.html#ecsv-format"><span class="std std-ref">ECSV</span></a> table file.  The table file can then be read back
into astropy with no loss of object data or attributes.</p>
<ul class="simple">
<li><a class="reference internal" href="../api/astropy.time.Time.html#astropy.time.Time" title="astropy.time.Time"><code class="xref py py-obj docutils literal"><span class="pre">astropy.time.Time</span></code></a></li>
<li><a class="reference internal" href="../api/astropy.time.TimeDelta.html#astropy.time.TimeDelta" title="astropy.time.TimeDelta"><code class="xref py py-obj docutils literal"><span class="pre">astropy.time.TimeDelta</span></code></a></li>
<li><a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-obj docutils literal"><span class="pre">astropy.units.Quantity</span></code></a></li>
<li><a class="reference internal" href="../api/astropy.coordinates.Latitude.html#astropy.coordinates.Latitude" title="astropy.coordinates.Latitude"><code class="xref py py-obj docutils literal"><span class="pre">astropy.coordinates.Latitude</span></code></a></li>
<li><a class="reference internal" href="../api/astropy.coordinates.Longitude.html#astropy.coordinates.Longitude" title="astropy.coordinates.Longitude"><code class="xref py py-obj docutils literal"><span class="pre">astropy.coordinates.Longitude</span></code></a></li>
<li><a class="reference internal" href="../api/astropy.coordinates.Angle.html#astropy.coordinates.Angle" title="astropy.coordinates.Angle"><code class="xref py py-obj docutils literal"><span class="pre">astropy.coordinates.Angle</span></code></a></li>
<li><a class="reference internal" href="../api/astropy.coordinates.Distance.html#astropy.coordinates.Distance" title="astropy.coordinates.Distance"><code class="xref py py-obj docutils literal"><span class="pre">astropy.coordinates.Distance</span></code></a></li>
<li><a class="reference internal" href="../api/astropy.coordinates.EarthLocation.html#astropy.coordinates.EarthLocation" title="astropy.coordinates.EarthLocation"><code class="xref py py-obj docutils literal"><span class="pre">astropy.coordinates.EarthLocation</span></code></a></li>
<li><a class="reference internal" href="../api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="astropy.coordinates.SkyCoord"><code class="xref py py-obj docutils literal"><span class="pre">astropy.coordinates.SkyCoord</span></code></a></li>
</ul>
</div>
<div class="section" id="barycentric-heliocentric-radial-velocity-corrections">
<span id="whatsnew-2-0-velocity-corrections"></span><h2>Barycentric/heliocentric radial velocity corrections<a class="headerlink" href="#barycentric-heliocentric-radial-velocity-corrections" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="astropy.coordinates.SkyCoord"><code class="xref py py-obj docutils literal"><span class="pre">astropy.coordinates.SkyCoord</span></code></a> now have a
<a class="reference internal" href="../api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord.radial_velocity_correction" title="astropy.coordinates.SkyCoord.radial_velocity_correction"><code class="xref py py-obj docutils literal"><span class="pre">radial_velocity_correction</span></code></a> method which can be
used to compute heliocentric and barycentric corrections for radial velocity
measurements.  While in the future this may use the mechanisms described
in <a class="reference internal" href="#whatsnew-2-0-coordinates-velocities"><span class="std std-ref">Experimental velocity support in astropy.coordinates</span></a>, currently it uses a simpler
algorithm for numerical stability.</p>
</div>
<div class="section" id="experimental-velocity-support-in-astropy-coordinates">
<span id="whatsnew-2-0-coordinates-velocities"></span><h2>Experimental velocity support in <code class="docutils literal"><span class="pre">astropy.coordinates</span></code><a class="headerlink" href="#experimental-velocity-support-in-astropy-coordinates" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">astropy.coordinates</span></code> frame objects now contains experimental support for
storing and transforming velocities.  This includes support for &#8220;differential&#8221;
objects which contain differences of representations.</p>
</div>
<div class="section" id="full-change-log">
<h2>Full change log<a class="headerlink" href="#full-change-log" title="Permalink to this headline">¶</a></h2>
<p>To see a detailed list of all changes in version v2.0, including changes in
API, please see the <a class="reference internal" href="../changelog.html#changelog"><span class="std std-ref">Full Changelog</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">What&#8217;s New in Astropy 2.0?</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#easier-use-of-efficient-bytestring-table-columns-in-python-3">Easier use of efficient bytestring Table columns in Python 3</a></li>
<li><a class="reference internal" href="#no-relativistic-species-by-default-in-cosmological-models">No relativistic species by default in cosmological models</a></li>
<li><a class="reference internal" href="#cone-search-module-astropy-vo-conesearch-moved-to-astroquery">Cone search module (<code class="docutils literal"><span class="pre">astropy.vo.conesearch</span></code>) moved to astroquery</a></li>
<li><a class="reference internal" href="#samp-module-moved-to-astropy-samp">SAMP module moved to <code class="docutils literal"><span class="pre">astropy.samp</span></code></a></li>
<li><a class="reference internal" href="#new-sigmaclip-class">New <code class="docutils literal"><span class="pre">SigmaClip</span></code> class</a></li>
<li><a class="reference internal" href="#new-std-ddof-keyword-to-sigma-clipped-stats">New <code class="docutils literal"><span class="pre">std_ddof</span></code> keyword to <code class="docutils literal"><span class="pre">sigma_clipped_stats()</span></code></a></li>
<li><a class="reference internal" href="#new-biweight-midcovariance-function-in-astropy-stats">New <code class="docutils literal"><span class="pre">biweight_midcovariance</span></code> function in <code class="docutils literal"><span class="pre">astropy.stats</span></code></a></li>
<li><a class="reference internal" href="#new-statistical-estimators-for-ripley-s-k-function">New statistical estimators for Ripley&#8217;s K Function</a></li>
<li><a class="reference internal" href="#new-way-to-instantiate-a-bintablehdu-directly-from-a-table">New way to instantiate a <code class="docutils literal"><span class="pre">BinTableHDU</span></code> directly from a <code class="docutils literal"><span class="pre">Table</span></code></a></li>
<li><a class="reference internal" href="#new-printdiff-convenience-function-for-fits">New <code class="docutils literal"><span class="pre">printdiff</span></code> convenience function for FITS</a></li>
<li><a class="reference internal" href="#new-molar-mass-amu-unit-equivalency">New <code class="docutils literal"><span class="pre">molar_mass_amu</span></code> unit equivalency</a></li>
<li><a class="reference internal" href="#new-unit-support-for-most-models">New unit support for most models</a></li>
<li><a class="reference internal" href="#new-n-submodels-shared-method-in-single-and-compound-models">New <code class="docutils literal"><span class="pre">n_submodels</span></code> shared method in single and compound models</a></li>
<li><a class="reference internal" href="#two-new-optional-arguments-when-evaluating-a-model-with-bounding-box-and-fill-value">Two new optional arguments when evaluating a model - <code class="docutils literal"><span class="pre">with_bounding_box</span></code> and <code class="docutils literal"><span class="pre">fill_value</span></code></a></li>
<li><a class="reference internal" href="#no-more-bundled-pytest-with-astropy-distribution">No more bundled <code class="docutils literal"><span class="pre">pytest</span></code> with Astropy distribution</a></li>
<li><a class="reference internal" href="#new-image-class-ccddata-added">New image class <code class="docutils literal"><span class="pre">CCDData</span></code> added</a></li>
<li><a class="reference internal" href="#store-astropy-core-object-types-in-ascii-ecsv-table-file">Store astropy core object types in ASCII ECSV table file</a></li>
<li><a class="reference internal" href="#barycentric-heliocentric-radial-velocity-corrections">Barycentric/heliocentric radial velocity corrections</a></li>
<li><a class="reference internal" href="#experimental-velocity-support-in-astropy-coordinates">Experimental velocity support in <code class="docutils literal"><span class="pre">astropy.coordinates</span></code></a></li>
<li><a class="reference internal" href="#full-change-log">Full change log</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="http://github.com/astropy/astropy/tree/master/docs/whatsnew/2.0.rst">Edit This Page on Github</a> &nbsp;
    <a href="../_sources/whatsnew/2.0.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011-2016, The Astropy Developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.5.6. &nbsp;
    Last built 05 Jul 2017. <br/>
  </p>
</footer>
  </body>
</html>